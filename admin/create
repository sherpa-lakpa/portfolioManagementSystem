<?php
if(in_array("--help", $argv)){
	echo "\n
	Dumbass!!! Just type 'php create name_of_your_component'

	8888888888888888888888888888888888888888888888888888888
	8888888888__________________888888888888888888888888888
	88888888___8888888888888888______8888888888888888888888
	88888888__88_____________888888____88888888888888888888
	888888__888___________________8888____88888888888888888
	88888__888_______________________8888___888888888888888
	8888__88____________________________888___8888888888888
	888__8_________________________________88__888888888888
	88__8____________________________________88__8888888888
	8__88_____________________________________88___88888888
	8__88______________________888888___________88___888888
	8__88________8888_________88___88____________88___88888
	8__88_______88_8888_______888_888_____________888__8888
	8__88______88___888________88888________________88__888
	8_888______8888888_______________________________8__888
	8_88_____________________________________________88__88
	8_88______________________________________________88_88
	8_88______________________________________________88__8
	8_88______________________________________________88__8
	8_88_______________________________________________8__8
	8_88_______________________________________________8__8
	8_88_______________________________________________8__8
	8_88_______________________________________________8_88
	88_88____________________________________88________8_88
	88__8_______________88888888888888888888888________8_88
	88__88______________8888888888888888888____________8_88
	888__88______________88888888______________________8_88
	8888__88___________________________________________8_88
	88888__888________________________________________88_88
	888888___88_______________________________________8_888
	8888888___88_____________________________________88_888
	888888888__8888________________________________88___888
	8888888888____8888___________________________888__88888
	888888888888_____8888_____________________8888___888888
	888888888888888_____88888888888____88888888____88888888
	8888888888888888888_________________________88888888888
	888888888888888888888888888888____888888888888888888888
	888888888888888888888888888888____888888888888888888888
	8888888888888888888888888888888___888888888888888888888
	8888888888888888888888888888888____88888888888888888888
	8888888888888888888888888888888____88888888888888888888
	88888888888888888888888888888888____8888888888888888888
	88888888888888888888888888888888____8888888888888888888
	8888888888888888888888888888888888888888888888888888888
	\n";
}else{
	if(count($argv) == 2){
		$name = $argv[1];

		if(file_exists("{$name}.php")){
			echo "Component Already Created! Try New!!\nEg: 'php create.php new'\n";
			return 1;
		}

		$register =  function() use ($name){
			$registry_file = file_get_contents('sample.ls', true);
			file_put_contents("{$name}.php",$registry_file);
		};

		$model_maker = function() use ($name){
			$model_name = ucfirst($name);
			$model_content = file_get_contents('classes/Sample.ls', true);
			$model = str_replace('{{Sample}}',$model_name,$model_content);
			file_put_contents("classes/{$model_name}.php",$model);	
		};

		$controller_maker = function() use ($name){
			$controller_name = lcfirst($name).'Controller';
			$lower_controller_name = lcfirst($name);
			$model_name = ucfirst($name);
			$controller_content = file_get_contents('controllers/sampleController.ls', true);

			//Sanitize file
			$controller = str_replace('{{sample}}',$lower_controller_name,$controller_content);
			$controller = str_replace('{{Sample}}',$model_name,$controller);

			file_put_contents("controllers/{$controller_name}.php",$controller);	
		};

		$view_maker = function() use ($name){
			$view_name = lcfirst($name);
			$model_name = ucfirst($name);
			$view_content = file_get_contents('views/sample.ls', true);

			//Sanitize file
			$view = str_replace('{{sample}}',$view_name,$view_content);
			$view = str_replace('{{samples}}',$view_name.'s',$view);
			$view = str_replace('{{Sample}}',$model_name,$view);

			file_put_contents("views/{$view_name}.php",$view);	
		};

		$sidebar_maker = function() use($name){
			$sidebar_name = lcfirst($name);
			$model_name = ucfirst($name);
			$sidebar_content = file_get_contents('views/partials/_navSide.php', true);
			$icon = ['archive','blog','book','bookmark','edit','envelope','envelope-open','eraser','file','file-alt','folder','folder-open','keyboard','paperclip','paragraph','pen','pen-alt','pen-square','pencil','pencil-alt','quote-left','quote-right','sticky-note','thumbtack'];
			shuffle($icon);
			$str_replace = '
	                    <li class="<?php echo basename($_SERVER["REQUEST_URI"], ".php") == "'.$sidebar_name.'" ? "active" : ""; ?>">
	                        <a href="'.$sidebar_name.'.php"><i class="fa fa-fw fa-'.$icon[0].'"></i> '.$model_name.'</a>
	                    </li>
		                <!--NewSideBarGoesHere-->';
			$view = str_replace('<!--NewSideBarGoesHere-->',$str_replace, $sidebar_content);
			file_put_contents("views/partials/_navSide.php",$view);	
		};

		try{
			// $register();
			// $model_maker();
			// $controller_maker();
			// $view_maker();
			// $sidebar_maker();

			echo "\n
				Component created!!!
			──────────────────────────────────
			────────────██████████────────────
			────────███████████████████───────
			──────███████████████████████─────
			────██████████████████████████────
			───█████████████▀──────────▀███───
			──█████████████──────────────███──
			─████████████────────────────████─
			─██████████───────────────────███─
			██████████▀───────────────────████
			████████▀─────────────────────████
			██████▀────────────────────────███
			█████──▄▀▀▀▀▀▀▀▄────▄▀▀▀▀▀▀▀▄──███
			█████────▄▄▄▄▄────────▄▄▄▄▄────███
			█████──▄▀───▄██▄────▄▀───▄██▄──███
			█████──▀▄───▀▀█▀────▀▄───▀▀█▀──███
			█▀──█────▀▀▀▀▀────────▀▀▀▀▀────███
			█───█──────────────────────────█─█
			█────────────────────▄───────────█
			█───────────▄▀────────▀▄─────────█
			▀█─▄█───────▀▄─▀██──██───────────█
			─▀██────────────────────────────██
			──██────▄▀▀──────█─█──────▀▀▄──██─
			───█──────█▀▄────▀─▀────▄▀█────█──
			───█──────▀──▀▀▄▄▄▄▄▄▄▀▀──▀────█──
			───▀█─────────────────────────█▀──
			────▀█───────────────────────█▀───
			─────▀█─────────────────────█▀────
			──────▀█───────────────────█▀─────
			───────▀█─────────────────█▀──────
			────────▀█───▄───────▄───█▀───────
			─────────▀█▄──▀▄▄▄▄▄▀──▄█▀────────
			───────────▀▀█▄▄▄▄▄▄▄█▀▀──────────
			────────────────███───────────────
			──────────────███████─────────────
			─────────────██─███─██────────────
			────────────██──███──██───────────
			───────────██───███───██──────────
			──────────██────███────██─────────
				
				Creating something new?\n
			";
		}catch(Exception $e){
			echo "\n
			Error encountered! Please try again.\n
			─▄▀▀▀▀▄─█──█────▄▀▀█─▄▀▀▀▀▄─█▀▀▄
			─█────█─█──█────█────█────█─█──█
			─█────█─█▀▀█────█─▄▄─█────█─█──█
			─▀▄▄▄▄▀─█──█────▀▄▄█─▀▄▄▄▄▀─█▄▄▀

			─────────▄██████▀▀▀▀▀▀▄
			─────▄█████████▄───────▀▀▄▄
			──▄█████████████───────────▀▀▄
			▄██████████████─▄▀───▀▄─▀▄▄▄──▀▄
			███████████████──▄▀─▀▄▄▄▄▄▄────█
			█████████████████▀█──▄█▄▄▄──────█
			███████████──█▀█──▀▄─█─█─█───────█
			████████████████───▀█─▀██▄▄──────█
			█████████████████──▄─▀█▄─────▄───█
			█████████████████▀███▀▀─▀▄────█──█
			████████████████──────────█──▄▀──█
			████████████████▄▀▀▀▀▀▀▄──█──────█
			████████████████▀▀▀▀▀▀▀▄──█──────█
			▀████████████████▀▀▀▀▀▀──────────█
			──███████████████▀▀─────█──────▄▀
			──▀█████████████────────█────▄▀
			────▀████████████▄───▄▄█▀─▄█▀
			──────▀████████████▀▀▀──▄███
			──────████████████████████─█
			─────████████████████████──█
			────████████████████████───█
			────██████████████████─────█
			────██████████████████─────█
			────██████████████████─────█
			────██████████████████─────█
			────██████████████████▄▄▄▄▄█

			─────────────█─────█─█──█─█───█
			─────────────█─────█─█──█─▀█─█▀
			─────────────█─▄█▄─█─█▀▀█──▀█▀
			─────────────██▀─▀██─█──█───█
			\n";
		}
	}elseif (count($argv) == 1) {
		echo "\n
			 			Please give Component name.\n
			░░░░░░░░░░░░░░░░░░░▒▓▓█████████████▓▓▒░░░░░░░░░░░░░░░░░░░░░░
			░░░░░░░░░░░░░░▒████▓▓▒▒░▒▒▒░▒▒▒▒▒▒▓▓████▓▒░░░░░░░░░░░░░░░░░░
			░░░░░░░░░░░▒███▓░░░░░░░░░░░░░░░░░░░░░░▒███████▓▓▒░░░░░░░░░░░
			░░░░░░░░░▒██▓░░░░▒▒███▓▓▒░░░░░░░░░░░░░▓▓▒▒▒▒▒▓██████▓░░░░░░░
			░░░░░░░▒██▓░░░▓███▓▒░░░░░░░░▒▒▒▒▒▒▒▒▒▒░░░░░░▒▓▓███▓████▒▒░░░
			░░░░░░██▓░░▒▓██▓░░▒▓██████▓░░░░░░░▒░░░░░░▒██▓▒░░░▓███▒▓▒░░░░
			░░░░░██░░▓███▒░░▒██▒░░░░▒▒██▓░░░░░░░░░░░██▒░░░░▒████▒█░░░░░░
			░░░░██░▒▓▒▓▓░░░██░░░░░░░░░░░█▓░░░░░░░░░██░░░░░░▒███░░█▒░░░░░
			░░░▓█░░░░░░░░░██░░░░░░░░░░░░▓█░░░░░░░░██░░░░░░░░░░░░░█▒░░░░░
			░░░█▓░░░░░░░░░█▒░░████░░░░░░░█▒░░░░░░░██░░░░░░░░░░░░███░░░░░
			░░▒█░░░░░░░▒▓▒█▓░▓████▓░░░░░▒█░░░░░░░░▒█▒░░░░░░░░░░██░█▒░░░░
			░░██░░░░░▒▓▒▓▒██▒▒▓▓▓░░░░░░░██░░░░░░░░░▒████▓███████▓░█▒░░░░
			░░█▓░░░░░▒░░░▒░▒██▓▒░░░░░▒██▓░░░░░░░░░░░░░░██▓░░░░░░▒██▓░░░░
			░░█░░░░░░░░░▓▒░░░░▒▓██████▓░░░░░░░░░░░░░░▒██░░░▓█▓▓▒░░░██░░░
			░▒█░░░░░░░░░░░░░░░░░░░░░░░░░░▓▒▓▒▒▒▒▒▓▓▓▓██░░▓█▓░▒▒██▒░░██░░
			░▓█░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒▓▓▒░░██░░██▓░▒░▒░██░░▒█░░
			░██░░░░░░░░░░░░░░░░░░░░░░░▒▓▒▒▒▒▒▒▒▒░░░██░░▓█░█▓░█▒█▓█▓░░█░░
			░██░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒░▒▒░░▓█▓░░██░█▒▒█▒█▒▓█░░█░░
			░██░░░░░░░░░░░░░░░░░░░░░░░░▒░░░░░░░░░░▓█░░░█▒░░░░▒▒░░▒█░▓█░░
			░▒█░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒░░█▒░░█▒░░░░░░░░▓█░█▓░░
			░░█▓░▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▓█░░█▒░░░░░░░░█░▒█░░░
			░░▓█░░▒░░▒▒░░▒░░░░░░░░░░░░░░░░░░░░░░░░░░█░░█▒░░░░░░░█▓░█▓░░░
			░░░█▒░░▒░░▒░░▒▒░░░░░░░░░░░░░░░░░░░░░░░░░█░░█▒░░░░░░▓█░░█░░░░
			░░░██░░░▒░▒░░░▒▒░░░░░░░░░░░░░░░░░░░░░░░░█░░█▒░░░░░░██░░█░░░░
			░░░░█▓░░░▒░▒░░░░▒▒░░░░░▒▒▒▒▒▒░░░░░░░░░░▒█░▒█░░░░░░░█▒░░█▓░░░
			░░░░▓█░░░░▒▒░░░░░▒▒░░░░░░▒▒▒▓▓▓▒░░░░░░░██░██░░░░░░░██░░▓█░░░
			░░░░░██░░░▒░▒░░░░░▒░░░░░░░░▒░▒▒▓█▒░░░░▒█░░█▓▒▓▓▓▒░░▓█░░░█▒░░
			░░░░░▒█▒░░░▒▒▒░░░░▒░░░░░░░░░░▒▒▒░▒▓░░░██░▒█░░░░▒▓▓░░██░░█▒░░
			░░░░░░▒█▒░░░▒░▒░░░▒░░░░░░▒▒▒░░░░▒▒░░░▒█░░██░░░░░░░█░▒█░░█▒░░
			░░░░░░░▓█░░░▒░▒░░░░▒▒░░░░▓▒▒▓▓▓▒░░▓▒░██░░██▒▒▒▒▓▒▓▓███░░█▒░░
			░░░░░░░░██░░░▒░▒░░░░░▒▒░░░░░░░░▓█▓░░░█▓░░██░▓█░█░█░░█▒░░█▒░░
			░░░░░░░░░██░░░░▒▒░░░░░░▒▒░░░░░░░░▒█▓░█▓░░▓█▒▒█▒█░█▒██░░▒█░░░
			░░░░░░░░░░██▒░░░░▒░░░▒░░░▒▒░░░░░░░░▒▓██░░░██░░░░▒▒██░░░██░░░
			░░░░░░░░░░░▓██░░░░░░░░▒▒░░░▒░░░░░░░░░▓█░░░░▓███▓▓██░░░██░░░░
			░░░░░░░░░░░░░▓██▒░░░░░░▒▒▒▒▒░░░░░░░░░░██░░░░░░▒▒▒░░░░██░░░░░
			░░░░░░░░░░░░░░░▓███▒░░░░░░░▒▒▒▒▒▒▒▒░░░░▓██▒░░░░░░░▒███░░░░░░
			░░░░░░░░░░░░░░░░░▒▓███▓▒░░░░░░░▒░░▒▒▒▒░░░▒██▓██████▓░░░░░░░░
			░░░░░░░░░░░░░░░░░░░░░▒████▓▒▒░░░░░░░░░░░░░░░▓██▒░░░░░░░░░░░░
			░░░░░░░░░░░░░░░░░░░░░░░░░▒▓████▓░░░░░░░▓█████▒░░░░░░░░░░░░░░
			░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒█████████▒░░░░░░░░░░░░░░░░░░░
			░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒░░░░░░░░░░░░░░░░░░░░░░░
			
					Eg: 'php create.php test'\n";
	}else{
		echo "\n
					Please provide valid arguments.\n
			░░░░░░░░░░░░░░░░░░░▒▓▓█████████████▓▓▒░░░░░░░░░░░░░░░░░░░░░░
			░░░░░░░░░░░░░░▒████▓▓▒▒░▒▒▒░▒▒▒▒▒▒▓▓████▓▒░░░░░░░░░░░░░░░░░░
			░░░░░░░░░░░▒███▓░░░░░░░░░░░░░░░░░░░░░░▒███████▓▓▒░░░░░░░░░░░
			░░░░░░░░░▒██▓░░░░▒▒███▓▓▒░░░░░░░░░░░░░▓▓▒▒▒▒▒▓██████▓░░░░░░░
			░░░░░░░▒██▓░░░▓███▓▒░░░░░░░░▒▒▒▒▒▒▒▒▒▒░░░░░░▒▓▓███▓████▒▒░░░
			░░░░░░██▓░░▒▓██▓░░▒▓██████▓░░░░░░░▒░░░░░░▒██▓▒░░░▓███▒▓▒░░░░
			░░░░░██░░▓███▒░░▒██▒░░░░▒▒██▓░░░░░░░░░░░██▒░░░░▒████▒█░░░░░░
			░░░░██░▒▓▒▓▓░░░██░░░░░░░░░░░█▓░░░░░░░░░██░░░░░░▒███░░█▒░░░░░
			░░░▓█░░░░░░░░░██░░░░░░░░░░░░▓█░░░░░░░░██░░░░░░░░░░░░░█▒░░░░░
			░░░█▓░░░░░░░░░█▒░░████░░░░░░░█▒░░░░░░░██░░░░░░░░░░░░███░░░░░
			░░▒█░░░░░░░▒▓▒█▓░▓████▓░░░░░▒█░░░░░░░░▒█▒░░░░░░░░░░██░█▒░░░░
			░░██░░░░░▒▓▒▓▒██▒▒▓▓▓░░░░░░░██░░░░░░░░░▒████▓███████▓░█▒░░░░
			░░█▓░░░░░▒░░░▒░▒██▓▒░░░░░▒██▓░░░░░░░░░░░░░░██▓░░░░░░▒██▓░░░░
			░░█░░░░░░░░░▓▒░░░░▒▓██████▓░░░░░░░░░░░░░░▒██░░░▓█▓▓▒░░░██░░░
			░▒█░░░░░░░░░░░░░░░░░░░░░░░░░░▓▒▓▒▒▒▒▒▓▓▓▓██░░▓█▓░▒▒██▒░░██░░
			░▓█░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒▓▓▒░░██░░██▓░▒░▒░██░░▒█░░
			░██░░░░░░░░░░░░░░░░░░░░░░░▒▓▒▒▒▒▒▒▒▒░░░██░░▓█░█▓░█▒█▓█▓░░█░░
			░██░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒░▒▒░░▓█▓░░██░█▒▒█▒█▒▓█░░█░░
			░██░░░░░░░░░░░░░░░░░░░░░░░░▒░░░░░░░░░░▓█░░░█▒░░░░▒▒░░▒█░▓█░░
			░▒█░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒░░█▒░░█▒░░░░░░░░▓█░█▓░░
			░░█▓░▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▓█░░█▒░░░░░░░░█░▒█░░░
			░░▓█░░▒░░▒▒░░▒░░░░░░░░░░░░░░░░░░░░░░░░░░█░░█▒░░░░░░░█▓░█▓░░░
			░░░█▒░░▒░░▒░░▒▒░░░░░░░░░░░░░░░░░░░░░░░░░█░░█▒░░░░░░▓█░░█░░░░
			░░░██░░░▒░▒░░░▒▒░░░░░░░░░░░░░░░░░░░░░░░░█░░█▒░░░░░░██░░█░░░░
			░░░░█▓░░░▒░▒░░░░▒▒░░░░░▒▒▒▒▒▒░░░░░░░░░░▒█░▒█░░░░░░░█▒░░█▓░░░
			░░░░▓█░░░░▒▒░░░░░▒▒░░░░░░▒▒▒▓▓▓▒░░░░░░░██░██░░░░░░░██░░▓█░░░
			░░░░░██░░░▒░▒░░░░░▒░░░░░░░░▒░▒▒▓█▒░░░░▒█░░█▓▒▓▓▓▒░░▓█░░░█▒░░
			░░░░░▒█▒░░░▒▒▒░░░░▒░░░░░░░░░░▒▒▒░▒▓░░░██░▒█░░░░▒▓▓░░██░░█▒░░
			░░░░░░▒█▒░░░▒░▒░░░▒░░░░░░▒▒▒░░░░▒▒░░░▒█░░██░░░░░░░█░▒█░░█▒░░
			░░░░░░░▓█░░░▒░▒░░░░▒▒░░░░▓▒▒▓▓▓▒░░▓▒░██░░██▒▒▒▒▓▒▓▓███░░█▒░░
			░░░░░░░░██░░░▒░▒░░░░░▒▒░░░░░░░░▓█▓░░░█▓░░██░▓█░█░█░░█▒░░█▒░░
			░░░░░░░░░██░░░░▒▒░░░░░░▒▒░░░░░░░░▒█▓░█▓░░▓█▒▒█▒█░█▒██░░▒█░░░
			░░░░░░░░░░██▒░░░░▒░░░▒░░░▒▒░░░░░░░░▒▓██░░░██░░░░▒▒██░░░██░░░
			░░░░░░░░░░░▓██░░░░░░░░▒▒░░░▒░░░░░░░░░▓█░░░░▓███▓▓██░░░██░░░░
			░░░░░░░░░░░░░▓██▒░░░░░░▒▒▒▒▒░░░░░░░░░░██░░░░░░▒▒▒░░░░██░░░░░
			░░░░░░░░░░░░░░░▓███▒░░░░░░░▒▒▒▒▒▒▒▒░░░░▓██▒░░░░░░░▒███░░░░░░
			░░░░░░░░░░░░░░░░░▒▓███▓▒░░░░░░░▒░░▒▒▒▒░░░▒██▓██████▓░░░░░░░░
			░░░░░░░░░░░░░░░░░░░░░▒████▓▒▒░░░░░░░░░░░░░░░▓██▒░░░░░░░░░░░░
			░░░░░░░░░░░░░░░░░░░░░░░░░▒▓████▓░░░░░░░▓█████▒░░░░░░░░░░░░░░
			░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒█████████▒░░░░░░░░░░░░░░░░░░░
			░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒░░░░░░░░░░░░░░░░░░░░░░░

					Eg: 'php create.php test'\n";
	}
}
?>